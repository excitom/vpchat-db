/* add a new place type to the database */
/* input:  type, min people for showing places, sort order,
           unify replicates, exclude shadow places
   output:  none 
*/
CREATE PROC addPlaceType
(
  @type             integer,
  @minPeople	    integer = 1,
  @sortOrder        integer = 1,
  @unifyReplicated  bit = 1,
  @excludeShadow    bit = 0
)
AS
BEGIN
  
  DECLARE @lastError int

    INSERT placeTypes
      VALUES( @type, @minPeople, @sortOrder,
              @unifyReplicated, @excludeShadow )  
    
    SELECT @lastError = @@error
    IF @lastError != 0
    BEGIN
      ROLLBACK TRAN
      RETURN @lastError
    END

END
GO
